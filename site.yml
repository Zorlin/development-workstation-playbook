---
- name: Dev playbook
  hosts: all
  become: true

  vars_files:
    - "vars/dev.yml"

  pre_tasks:
    - name: Print Ansible info useful for development
      debug:
        msg:
          - "{{ ansible_distribution }} {{ ansible_distribution_version }}"

  tasks:
#    - name: Install Ansible Mitogen
#      wget:
#        url: https://github.com/mitogen-hq/mitogen/archive/v0.3.0-rc.0.zip
#        dest: /opt/mitogen-v0.3.0-rc.0.zip

    - name: Install apt repository stuff
      package:
        name:
          - apt-transport-https
          - ca-certificates
          - curl
          - gnupg

    - name: Add the Docker GPG key
      apt_key:
        url: https://download.docker.com/linux/ubuntu/gpg
        state: present

    - name: Add the apt repository for Docker
      apt_repository:
        repo: deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu groovy stable
        state: present
        filename: docker

#    - name: Install Docker-compose
#    - name: Install Ansible Molecule
#    - name: Install yamllint
#    - name: Install ansible-lint
#    - name: Install pre-commit
#    - name: Install microk8s
#    - name: Check out my favourite repos
#    - name: Install Steam
#    - name: Install Chia
#    - name: Install Sia

  roles:
    # No roles yet.
